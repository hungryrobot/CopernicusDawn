/* ================================================
   B2B header + announcement bar (Theme settings)
   Uses CSS variables emitted in theme.liquid
================================================= */
body.b2b .header-wrapper,
body.b2b .section-header,
body.b2b header.header {
  background: var(--b2b-header-bg, #000);
  color: var(--b2b-header-text, #fff);
}
body.b2b .header a,
body.b2b .header .header__menu-item,
body.b2b .header .header__icon,
body.b2b .header .icon {
  color: var(--b2b-header-text, #fff);
  fill: var(--b2b-header-text, #fff);
}
body.b2b .announcement-bar {
  background: var(--b2b-bar-bg, #000);
  color: var(--b2b-bar-text, #fff);
  text-align: center;
}
body.b2b .announcement-bar a.announcement-bar__link {
  color: var(--b2b-bar-text, #fff);
  text-decoration: none;
  display: inline-block;
  padding: 10px 14px;
}

/* ================================================
   Product cards: keep buttons aligned bottom
   Works on home page (featured collections) + collection pages
   Compatible with Dawn (v8–v15+) and SparkLayer widgets
================================================= */

/* 1) Ensure the card grows to full height inside grid items */
.grid__item .card-wrapper,
.grid__item .card {
  height: 100%;
}

/* Make outer product card wrapper a flex column so the card can stretch */
.product-card-wrapper {
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* 2) Make the product card a vertical flex stack */
.product-card-wrapper > .card {
  display: flex !important;
  flex-direction: column;
  min-height: 100%;
  flex: 1 1 auto;
}


/* 4) Push the CTA (Quick add / View product / SparkLayer add) to bottom */
.product-card-wrapper .quick-add,
.product-card-wrapper product-form.form,
.product-card-wrapper form[action*="/cart/add"],
.product-card-wrapper .card__cta,
.product-card-wrapper .sl-add-to-cart,           /* SparkLayer button */
.product-card-wrapper .sl-quick-order__add,      /* SparkLayer quick-order buttons (if present in cards) */
.product-card-wrapper .button--full-width {
  margin-top: auto !important;
}

/* If the badge is in normal flow in this theme, don't let it push the CTA up */
.product-card-wrapper .card__badge {
  order: 99;
}

/* 5) Even if the product is OOS and shows a different CTA, keep alignment */


/* 6) Minor polish: keep cards equal height on small screens too */
@media (max-width: 749px) {
  .card--product .card__content,
  .card--product .card__information {
    min-height: 100%;
  }
}

/* ===== Dawn v15 — Product cards: 2-line titles + aligned CTA ===== */
.card--product .card__heading {
  line-height: 1.25;
  min-height: 2.5em;               /* 2 lines × 1.25 */
  display: -webkit-box;
  line-clamp: 2;                   /* standard prop for lint compatibility */
  -webkit-line-clamp: 2;           /* clamp to 2 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.grid__item .card-wrapper,
.grid__item .card { height: 100%; }
.card--product .card__content,
.card--product .card__information {
  display: flex;
  flex-direction: column;
  height: 100%;
}
.card--product .quick-add,
.card--product form[action*="/cart/add"],
.card--product .card__cta,
.card--product .sl-add-to-cart,
.card--product .sl-quick-order__add,
.card--product .button--full-width {
  margin-top: auto;
}
@media (max-width: 749px) {
  .card--product .card__content,
  .card--product .card__information { min-height: 100%; }
}

/* ==== B2B header/menu legibility (Dawn v15) ==== */
body.b2b .header,
body.b2b .header-wrapper,
body.b2b .section-header { background: #000; color: #fff; }

/* Top-level nav links (inline menu) */
body.b2b .header .list-menu__item--link,
body.b2b .header summary.list-menu__item,
body.b2b .header .header__menu-item {
  color: #fff !important;
}
body.b2b .header .list-menu__item--link:hover,
body.b2b .header .list-menu__item--link:focus {
  color: #fff !important;
  opacity: .9;
}

/* Icons (search, account, cart) */
body.b2b .header .header__icon,
body.b2b .header .header__icon .icon,
body.b2b .header .icon {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}

/* Mega menu panel + links */
body.b2b .mega-menu { background: #000; }
body.b2b .mega-menu__list .list-menu__item--link,
body.b2b .mega-menu__link,
body.b2b .mega-menu__link .icon {
  color: #fff !important;
  fill: #fff !important;
  stroke: #fff !important;
}

/* Utility: prevent scheme tokens from overriding B2B header */
body.b2b .section-header .color-scheme:where(:not(.force-retail)) { color: inherit; }
